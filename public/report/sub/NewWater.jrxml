<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.1.0.final using JasperReports Library version 6.1.0  -->
<!-- 2015-08-09T05:24:12 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="NewWater" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="7e82934a-2d62-4be1-a0ee-5d04e0cf3184">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="dbOil"/>
	<parameter name="facility_id" class="java.lang.Integer"/>
	<parameter name="begin_date" class="java.sql.Date"/>
	<parameter name="end_date" class="java.sql.Date"/>
	<queryString language="SQL">
		<![CDATA[SELECT
EU_GROUP_NAME,
x.FACILITY_NAME,
x.WELL_NAME,
x.THEOR_METHOD,
x.OCCUR_DATE,
(select max(ACTIVE_HRS) from ENERGY_UNIT_DAY_VALUE v where v.eu_id=x.EU_ID and v.OCCUR_DATE=x.OCCUR_DATE) ACTIVE_HRS,
x1.EU_DAY_GRS_VOL AS WATER_ALLOC, y1.EU_DAY_GRS_VOL AS WATER_THEOR
FROM
(SELECT g.NAME AS EU_GROUP_NAME,
f.NAME AS FACILITY_NAME,
eu.ID AS EU_ID,
eu.NAME AS WELL_NAME,
t.CODE AS THEOR_METHOD,
al.OCCUR_DATE AS OCCUR_DATE,
al.ACTIVE_HRS  AS ACTIVE_HRS
FROM energy_unit AS eu
left join code_theoretical_method t on eu.TEST_METHOD=t.ID
left join energy_unit_group g on g.ID=eu.EU_GROUP_ID
INNER JOIN energy_unit_day_alloc AS al
ON eu.ID = al.EU_ID
 and al.OCCUR_DATE>=$P{begin_date}
 and al.OCCUR_DATE<=$P{end_date}
 and al.EU_DAY_GRS_VOL is not null
 and al.FLOW_PHASE=3
INNER JOIN facility AS f
ON eu.FACILITY_ID = f.ID
INNER JOIN code_event_type AS et
ON eu.EVENT_TYPE=et.ID
WHERE f.ID=$P{facility_id}
and eu.EVENT_TYPE=2
GROUP BY eu.ID, eu.NAME, eu.TEST_METHOD, al.OCCUR_DATE) AS x
INNER JOIN energy_unit_day_alloc x1
ON x.EU_ID = x1.EU_ID AND x.OCCUR_DATE = x1.OCCUR_DATE AND x1.FLOW_PHASE = 3
INNER JOIN energy_unit_day_theor AS y1
ON x.EU_ID = y1.EU_ID AND y1.OCCUR_DATE = y1.OCCUR_DATE AND y1.FLOW_PHASE = 3
GROUP BY x.FACILITY_NAME,
x.WELL_NAME,
x.THEOR_METHOD,
x.OCCUR_DATE,
x.ACTIVE_HRS]]>
	</queryString>
	<field name="FACILITY_NAME" class="java.lang.String"/>
	<field name="WELL_NAME" class="java.lang.String"/>
	<field name="THEOR_METHOD" class="java.lang.String"/>
	<field name="OCCUR_DATE" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ACTIVE_HRS" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="WATER_ALLOC" class="java.math.BigDecimal"/>
	<field name="WATER_THEOR" class="java.math.BigDecimal"/>
	<field name="EU_GROUP_NAME" class="java.lang.String"/>
	<variable name="WATER_ALLOC1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{WATER_ALLOC}]]></variableExpression>
	</variable>
	<variable name="WATER_THEOR1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{WATER_THEOR}]]></variableExpression>
	</variable>
	<variable name="ACTIVE_HRS1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{ACTIVE_HRS}]]></variableExpression>
	</variable>
	<variable name="FACILITY_NAME1" class="java.lang.Integer" resetType="Group" resetGroup="Group1" calculation="Count">
		<variableExpression><![CDATA[$F{FACILITY_NAME}]]></variableExpression>
	</variable>
	<group name="Group1">
		<groupHeader>
			<band height="71">
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<staticText>
					<reportElement x="2" y="28" width="100" height="20" uuid="91b90ca7-a3dd-4d39-bf28-5f1e0f55195b"/>
					<text><![CDATA[Facility]]></text>
				</staticText>
				<staticText>
					<reportElement x="610" y="50" width="100" height="18" uuid="21dc948d-45b3-4d49-8937-107555f1629d"/>
					<text><![CDATA[Water Allocation]]></text>
				</staticText>
				<staticText>
					<reportElement x="200" y="50" width="100" height="18" uuid="35964729-3fab-4ce6-9254-aa7ea0f32d3e"/>
					<text><![CDATA[Well Name]]></text>
				</staticText>
				<staticText>
					<reportElement x="300" y="50" width="100" height="18" uuid="18534297-a982-4889-8b92-6e740cdc82a5"/>
					<text><![CDATA[Theoretical Method]]></text>
				</staticText>
				<staticText>
					<reportElement x="400" y="50" width="100" height="18" uuid="92ed1a22-953c-4f61-a9fa-7d7d12f0cc34"/>
					<text><![CDATA[Occur Date]]></text>
				</staticText>
				<staticText>
					<reportElement x="500" y="50" width="100" height="18" uuid="c1f28d77-67de-4b65-b095-cd2532c290ad"/>
					<text><![CDATA[Injection Hours]]></text>
				</staticText>
				<staticText>
					<reportElement x="710" y="50" width="100" height="18" uuid="7a68f3f5-033e-4593-a58b-9b649010534f"/>
					<text><![CDATA[Water Theoretical]]></text>
				</staticText>
				<staticText>
					<reportElement x="-1" y="6" width="251" height="20" uuid="fe675a1a-973e-41ca-b583-ac056e9a5fc2"/>
					<textElement>
						<font size="12" isBold="true"/>
					</textElement>
					<text><![CDATA[WATER INJECTION WELLS]]></text>
				</staticText>
				<textField>
					<reportElement x="80" y="28" width="122" height="20" uuid="15be65f7-d7d8-4695-b064-cf9157c8ee95"/>
					<textFieldExpression><![CDATA[$F{FACILITY_NAME}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="80" y="50" width="120" height="20" uuid="2667fd74-8e55-4846-939f-0f26980ec29c"/>
					<text><![CDATA[Well Group]]></text>
				</staticText>
				<staticText>
					<reportElement x="610" y="26" width="200" height="20" uuid="8abbd8f1-dbed-41c6-8536-3cffee1c3f6a"/>
					<textElement textAlignment="Center">
						<font size="11" isBold="true"/>
					</textElement>
					<text><![CDATA[WATER]]></text>
				</staticText>
				<line>
					<reportElement x="80" y="70" width="730" height="1" uuid="72d13f7e-f206-42ce-ab18-6f65d263ef80"/>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="48">
				<staticText>
					<reportElement x="2" y="15" width="98" height="18" uuid="1ac78050-f290-4525-9f78-38f7d47ac67c"/>
					<textElement>
						<font size="11" isBold="true"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="610" y="15" width="100" height="20" uuid="585def23-762e-4ae3-b92e-e67ee1452121"/>
					<textFieldExpression><![CDATA[$V{WATER_ALLOC1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="710" y="15" width="100" height="20" uuid="8a30e2f3-4e63-426e-bbec-b4a09a735efb"/>
					<textFieldExpression><![CDATA[$V{WATER_THEOR1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="500" y="15" width="100" height="20" uuid="4ea99f3a-1d76-4960-9f90-c47f804fe8bf"/>
					<textFieldExpression><![CDATA[$V{ACTIVE_HRS1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="15" width="122" height="18" uuid="ece032fd-288b-492f-b7c6-49d25cb06b12"/>
					<textFieldExpression><![CDATA[$V{FACILITY_NAME1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="25" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="610" y="4" width="100" height="20" uuid="3d1cb09d-04bf-4c88-a3ad-e16ea95d34ca"/>
				<textFieldExpression><![CDATA[$F{WATER_ALLOC}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="200" y="4" width="100" height="20" uuid="fc603663-1b68-46c0-847b-63f74f19fcd7"/>
				<textFieldExpression><![CDATA[$F{WELL_NAME}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="300" y="4" width="100" height="20" uuid="cd91423f-35ee-485f-8ee9-1b4134554de0"/>
				<textFieldExpression><![CDATA[$F{THEOR_METHOD}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="400" y="4" width="100" height="20" uuid="49f53d51-c20e-4926-b979-de2045ba9ecc"/>
				<textFieldExpression><![CDATA[new SimpleDateFormat("MM/dd/yyyy").format($F{OCCUR_DATE})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="500" y="4" width="100" height="20" uuid="9af10554-7e17-480d-a832-72c60522dbb6"/>
				<textFieldExpression><![CDATA[$F{ACTIVE_HRS}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="710" y="4" width="100" height="20" uuid="e8c9a270-3e01-459b-9ec8-1ce71be12e0a"/>
				<textFieldExpression><![CDATA[$F{WATER_THEOR}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="80" y="4" width="120" height="20" uuid="2dc150f5-7701-4677-8bca-956f00d10ee6"/>
				<textFieldExpression><![CDATA[$F{EU_GROUP_NAME}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
