<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.1.0.final using JasperReports Library version 6.1.0  -->
<!-- 2015-08-09T05:19:47 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="NewGas" pageWidth="1000" pageHeight="595" orientation="Landscape" columnWidth="960" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="f01da8d0-9f74-4d7d-97f1-9cbb51e5e512">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="dbOil"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="facility_id" class="java.lang.Integer"/>
	<parameter name="begin_date" class="java.sql.Date"/>
	<parameter name="end_date" class="java.sql.Date"/>
	<queryString language="SQL">
		<![CDATA[SELECT
x.EU_GROUP_NAME,
x.FACILITY_NAME,
x.WELL_NAME,
x.THEOR_METHOD,
x.OCCUR_DATE,
(select max(ACTIVE_HRS) from ENERGY_UNIT_DAY_VALUE v where v.eu_id=x.EU_ID and v.OCCUR_DATE=x.OCCUR_DATE) ACTIVE_HRS,
x1.EU_DAY_GRS_VOL AS GAS_ALLOC, y1.EU_DAY_GRS_VOL AS GAS_THEOR
FROM
(SELECT g.NAME AS EU_GROUP_NAME,
f.NAME AS FACILITY_NAME,
eu.ID AS EU_ID,
eu.NAME AS WELL_NAME,
t.CODE AS THEOR_METHOD,
al.OCCUR_DATE AS OCCUR_DATE,
al.ACTIVE_HRS AS ACTIVE_HRS,
ut.NAME
FROM energy_unit AS eu
left join code_theoretical_method t on eu.TEST_METHOD=t.ID
left join energy_unit_group g on g.ID=eu.EU_GROUP_ID
INNER JOIN energy_unit_day_alloc AS al
ON eu.ID = al.EU_ID
 and al.OCCUR_DATE>=$P{begin_date}
 and al.OCCUR_DATE<=$P{end_date}
 and al.EU_DAY_GRS_VOL is not null
 and al.FLOW_PHASE=2
INNER JOIN facility AS f
ON eu.FACILITY_ID = f.ID
INNER JOIN code_energy_unit_type AS ut
ON eu.EU_TYPE=ut.ID
INNER JOIN code_event_type AS et
ON eu.EVENT_TYPE=et.ID
WHERE f.ID =$P{facility_id}
and eu.EVENT_TYPE=2
GROUP BY eu.ID, eu.NAME, eu.TEST_METHOD, al.OCCUR_DATE) AS x
INNER JOIN energy_unit_day_alloc x1
ON x.EU_ID = x1.EU_ID AND x.OCCUR_DATE = x1.OCCUR_DATE AND x1.FLOW_PHASE = 2
INNER JOIN energy_unit_day_theor AS y1
ON x.EU_ID = y1.EU_ID AND y1.OCCUR_DATE = y1.OCCUR_DATE AND y1.FLOW_PHASE = 2
GROUP BY x.FACILITY_NAME,
x.WELL_NAME,
x.THEOR_METHOD,
x.OCCUR_DATE,
x.ACTIVE_HRS]]>
	</queryString>
	<field name="FACILITY_NAME" class="java.lang.String"/>
	<field name="WELL_NAME" class="java.lang.String"/>
	<field name="THEOR_METHOD" class="java.lang.String"/>
	<field name="OCCUR_DATE" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ACTIVE_HRS" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="GAS_ALLOC" class="java.math.BigDecimal"/>
	<field name="GAS_THEOR" class="java.math.BigDecimal"/>
	<field name="EU_GROUP_NAME" class="java.lang.String"/>
	<variable name="GAS_ALLOC1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{GAS_ALLOC}]]></variableExpression>
	</variable>
	<variable name="GAS_THEOR1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{GAS_THEOR}]]></variableExpression>
	</variable>
	<variable name="ACTIVE_HRS1" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
		<variableExpression><![CDATA[$F{ACTIVE_HRS}]]></variableExpression>
	</variable>
	<variable name="FACILITY_NAME1" class="java.lang.Integer" resetType="Group" resetGroup="Group1" calculation="Count">
		<variableExpression><![CDATA[$F{FACILITY_NAME}]]></variableExpression>
	</variable>
	<group name="Group1">
		<groupHeader>
			<band height="65">
				<property name="local_mesure_unitheight" value="pixel"/>
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<staticText>
					<reportElement x="0" y="20" width="100" height="20" uuid="4612d08a-054d-4253-be6b-12e6922806e1"/>
					<text><![CDATA[Facility]]></text>
				</staticText>
				<staticText>
					<reportElement x="719" y="40" width="100" height="20" uuid="aff137ea-4ad1-4c8e-848a-c2f6229fcee8"/>
					<text><![CDATA[Gas Allocation]]></text>
				</staticText>
				<staticText>
					<reportElement x="197" y="42" width="202" height="18" uuid="69ccf7df-88fc-43d9-823a-9685843972d4"/>
					<text><![CDATA[Well Name]]></text>
				</staticText>
				<staticText>
					<reportElement x="403" y="40" width="100" height="20" uuid="457ff013-186c-4923-a3ba-52b6d3845491"/>
					<text><![CDATA[Theoretical Method]]></text>
				</staticText>
				<staticText>
					<reportElement x="503" y="40" width="100" height="20" uuid="e99d5f0f-77c8-454b-a5bc-8b6100cd6dec"/>
					<text><![CDATA[Occur Date]]></text>
				</staticText>
				<staticText>
					<reportElement x="603" y="40" width="100" height="20" uuid="707b43d8-f0a3-4e25-a5ab-d7157c4de0ed"/>
					<text><![CDATA[Injecttion Hours]]></text>
				</staticText>
				<staticText>
					<reportElement x="719" y="20" width="200" height="20" uuid="3f3ef842-9f44-48d3-8cf6-8f72dc739bbb"/>
					<textElement textAlignment="Center">
						<font size="11" isBold="true"/>
					</textElement>
					<text><![CDATA[GAS]]></text>
				</staticText>
				<staticText>
					<reportElement x="-1" y="0" width="231" height="20" uuid="df4c33f4-2f16-42ad-95be-924371d8c4c7"/>
					<textElement>
						<font size="11" isBold="true"/>
					</textElement>
					<text><![CDATA[GAS INJECTION WELLS]]></text>
				</staticText>
				<textField>
					<reportElement x="80" y="20" width="120" height="15" uuid="bdb5e83b-06cc-4dd7-a193-615a7ca01377"/>
					<textFieldExpression><![CDATA[$F{FACILITY_NAME}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="80" y="42" width="110" height="20" uuid="60bf08fa-1013-44b7-b044-79500b66a6ea"/>
					<text><![CDATA[Well Group]]></text>
				</staticText>
				<staticText>
					<reportElement x="819" y="40" width="100" height="21" uuid="b0209b00-0b81-4603-88d9-5b3709755c60"/>
					<text><![CDATA[Gas Theoretical]]></text>
				</staticText>
				<line>
					<reportElement x="80" y="60" width="839" height="1" uuid="872a1d47-29ff-494f-a1fa-c58607486704"/>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="60">
				<staticText>
					<reportElement x="0" y="30" width="80" height="20" uuid="8fed858e-8f04-4539-b3b5-f56d2e4bead2"/>
					<textElement>
						<font size="11" isBold="true"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="719" y="30" width="100" height="20" uuid="7e244d3f-72a9-4653-a66c-4617283509d1"/>
					<textFieldExpression><![CDATA[$V{GAS_ALLOC1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="819" y="30" width="100" height="20" uuid="f3496683-d06a-49dc-8214-ad2314cc6a18"/>
					<textFieldExpression><![CDATA[$V{GAS_THEOR1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="606" y="30" width="100" height="20" uuid="e99240e4-939e-422d-a642-a8003677abb3"/>
					<textFieldExpression><![CDATA[$V{ACTIVE_HRS1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="80" y="30" width="190" height="20" uuid="963db721-4156-4c5f-bc3b-0f4860880f24"/>
					<textFieldExpression><![CDATA[$V{FACILITY_NAME1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="23" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="719" y="2" width="100" height="15" uuid="f9199687-b1fd-4e64-96a3-a6e3c00499bc"/>
				<textFieldExpression><![CDATA[$F{GAS_ALLOC}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="197" y="2" width="202" height="15" uuid="733b038c-806a-47fc-a51b-4a7547372bc8"/>
				<textFieldExpression><![CDATA[$F{WELL_NAME}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="403" y="2" width="100" height="15" uuid="4b56afeb-b119-4537-9018-5737369282ce"/>
				<textFieldExpression><![CDATA[$F{THEOR_METHOD}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="503" y="2" width="100" height="15" uuid="2cd70781-7613-4a2d-871f-1809c5ea27f0"/>
				<textFieldExpression><![CDATA[new SimpleDateFormat("MM/dd/yyyy").format($F{OCCUR_DATE})]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="606" y="2" width="100" height="15" uuid="5138a24d-4009-4062-a346-b95d457db095"/>
				<textFieldExpression><![CDATA[$F{ACTIVE_HRS}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="819" y="2" width="100" height="15" uuid="81597e9a-a967-4d69-a8d3-478782c8db15"/>
				<textFieldExpression><![CDATA[$F{GAS_THEOR}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="80" y="2" width="109" height="15" uuid="7e379c15-7376-456c-9acd-e8a20fbd9dd4"/>
				<textFieldExpression><![CDATA[$F{EU_GROUP_NAME}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
